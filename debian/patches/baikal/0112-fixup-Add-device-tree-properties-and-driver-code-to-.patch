From e8128dc1e7e1b601591530ee23f9bc88f2d20f87 Mon Sep 17 00:00:00 2001
From: "Konstantin Kirik (snegovick)" <snegovick@uprojects.org>
Date: Tue, 12 Oct 2021 13:01:19 +0300
Subject: [PATCH 112/113] fixup! Add device tree properties and driver code to
 configure RTL8211F PHY LEDs

---
 drivers/net/phy/realtek.c | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

diff --git a/drivers/net/phy/realtek.c b/drivers/net/phy/realtek.c
index e9498fafa8b8..3f82bea8409a 100644
--- a/drivers/net/phy/realtek.c
+++ b/drivers/net/phy/realtek.c
@@ -298,10 +298,10 @@ static int rtl8211f_config_init(struct phy_device *phydev)
 	const struct device_node *of_node = dev->of_node;
 
 	/* Default LED configuration values from RTL8211F datasheet */
-	u8 led_mode = RTL8211F_LED_MODE_A;
-	u8 led0_ctrl = RTL8211F_LINK10_ACT;
-	u8 led1_ctrl = RTL8211F_LINK100_ACT;
-	u8 led2_ctrl = RTL8211F_LINK1000_ACT;
+	u32 led_mode = RTL8211F_LED_MODE_A;
+	u32 led0_ctrl = RTL8211F_LINK10_ACT;
+	u32 led1_ctrl = RTL8211F_LINK100_ACT;
+	u32 led2_ctrl = RTL8211F_LINK1000_ACT;
 	static const uint8_t lcr_values[] = {
 		0x1b, 0x0b, 0x13, 0x03, 0x19, 0x09, 0x11,
 		0x01, 0x1a, 0x0a, 0x12, 0x02, 0x18, 0x08
@@ -311,10 +311,10 @@ static int rtl8211f_config_init(struct phy_device *phydev)
 	u16 val;
 	int ret;
 
-	of_property_read_u8(of_node, "realtek,led-mode", &led_mode);
-	of_property_read_u8(of_node, "realtek,led0-control", &led0_ctrl);
-	of_property_read_u8(of_node, "realtek,led1-control", &led1_ctrl);
-	of_property_read_u8(of_node, "realtek,led2-control", &led2_ctrl);
+	of_property_read_u32(of_node, "realtek,led-mode", &led_mode);
+	of_property_read_u32(of_node, "realtek,led0-control", &led0_ctrl);
+	of_property_read_u32(of_node, "realtek,led1-control", &led1_ctrl);
+	of_property_read_u32(of_node, "realtek,led2-control", &led2_ctrl);
 
 	if (led_mode == RTL8211F_LED_MODE_B)
 		val_lcr |= (1<<15);
-- 
2.30.2

